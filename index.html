<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LEDNIK SHOP</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --gold: #FFD700;
    --orange: #FF6B00;
    --dark: #0A0A0F;
    --darker: #06060A;
    --panel: rgba(255,255,255,0.04);
    --border: rgba(255,165,0,0.2);
    --glow: 0 0 20px rgba(255,107,0,0.4);
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background: var(--darker);
    font-family: 'Rajdhani', sans-serif;
    color: #e8e0d0;
    min-height: 100vh;
    overflow-x: hidden;
  }
  body::before {
    content:'';
    position:fixed;
    inset:0;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.15) 2px, rgba(0,0,0,0.15) 4px);
    pointer-events:none;
    z-index:999;
  }
  body::after {
    content:'';
    position:fixed;
    inset:0;
    background:
      radial-gradient(ellipse at 20% 20%, rgba(255,107,0,0.08) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 80%, rgba(255,30,30,0.06) 0%, transparent 60%);
    pointer-events:none;
    z-index:0;
  }
  .wrapper { position:relative; z-index:1; max-width:760px; margin:0 auto; padding:16px 12px 60px; }

  header { text-align:center; padding:24px 0 20px; }
  .skull-icon { font-size:40px; animation: float 3s ease-in-out infinite; display:block; margin-bottom:6px; }
  @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }
  .brand {
    font-family:'Orbitron', monospace;
    font-size:clamp(24px,6vw,42px);
    font-weight:900;
    background: linear-gradient(135deg, #FFD700 0%, #FF6B00 50%, #FF2020 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    letter-spacing:4px;
    filter: drop-shadow(0 0 20px rgba(255,107,0,0.5));
  }
  .sub { font-size:12px; letter-spacing:5px; color:rgba(255,200,100,0.4); text-transform:uppercase; margin-top:4px; }
  .divider {
    height:1px;
    background: linear-gradient(90deg, transparent, var(--orange), var(--gold), var(--orange), transparent);
    margin:16px 0;
    position:relative;
  }
  .divider::after {
    content:'‚óÜ';
    position:absolute; left:50%; top:50%;
    transform:translate(-50%,-50%);
    background:var(--darker); padding:0 8px;
    color:var(--gold); font-size:10px;
  }
  .live-badge {
    display:inline-flex; align-items:center; gap:6px;
    background:rgba(255,30,30,0.15);
    border:1px solid rgba(255,30,30,0.3);
    border-radius:20px; padding:4px 12px;
    font-size:11px; color:#ff5555;
    letter-spacing:2px; margin-bottom:14px;
    font-family:'Orbitron', monospace;
  }
  .live-dot { width:6px; height:6px; background:#ff3333; border-radius:50%; animation:pulse 1.5s infinite; }
  @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.3;transform:scale(0.8)} }

  /* USER INFO */
  .user-bar {
    display:flex; align-items:center; gap:10px;
    background:rgba(255,255,255,0.03);
    border:1px solid rgba(255,255,255,0.07);
    border-radius:8px; padding:10px 16px;
    margin-bottom:14px; font-size:14px;
    color:rgba(255,255,255,0.5);
  }
  .user-bar .uname { color:#fff; font-weight:700; }

  /* TABS */
  .tabs { display:flex; gap:8px; margin-bottom:20px; }
  .tab-btn {
    flex:1; padding:12px 8px;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius:8px;
    color:rgba(255,255,255,0.4);
    font-family:'Rajdhani',sans-serif;
    font-size:14px; font-weight:700;
    letter-spacing:1px; text-transform:uppercase;
    cursor:pointer; transition:all 0.3s;
  }
  .tab-btn.active {
    background: linear-gradient(135deg, rgba(255,107,0,0.2), rgba(255,30,0,0.1));
    border-color:var(--orange); color:var(--gold);
    box-shadow: var(--glow);
  }
  .tab-btn .tab-icon { font-size:18px; display:block; margin-bottom:3px; }

  /* SECTIONS */
  .section { display:none; animation: fadeIn 0.4s ease; }
  .section.active { display:block; }
  @keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
  .section-title {
    font-family:'Orbitron', monospace; font-size:11px;
    letter-spacing:3px; color:rgba(255,200,100,0.4);
    text-transform:uppercase; margin-bottom:14px; padding-left:4px;
  }

  /* LOOT GRID */
  .loot-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(160px, 1fr)); gap:10px; }
  .loot-card {
    background: var(--panel); border:1px solid var(--border);
    border-radius:10px; padding:14px; cursor:pointer;
    transition:all 0.3s; position:relative; overflow:hidden;
  }
  .loot-card::before {
    content:''; position:absolute; top:0; left:0; right:0; height:2px;
    background: linear-gradient(90deg, transparent, var(--orange), transparent);
    opacity:0; transition:opacity 0.3s;
  }
  .loot-card:hover { border-color:var(--orange); transform:translateY(-3px); box-shadow: 0 8px 30px rgba(255,107,0,0.2); }
  .loot-card:hover::before { opacity:1; }
  .loot-card.legendary { border-color:rgba(255,200,0,0.3); }
  .loot-card.legendary::after {
    content:'TOP';
    position:absolute; top:6px; right:-14px;
    background:linear-gradient(135deg,#FFD700,#FF6B00);
    color:#000; font-size:8px; font-weight:700; letter-spacing:1px;
    padding:2px 20px; transform:rotate(45deg);
  }
  .loot-emoji { font-size:28px; margin-bottom:6px; display:block; }
  .loot-name { font-family:'Orbitron', monospace; font-size:12px; font-weight:700; color:#fff; margin-bottom:4px; }
  .loot-desc { font-size:11px; color:rgba(255,255,255,0.35); margin-bottom:10px; line-height:1.3; }
  .loot-price { display:flex; align-items:center; gap:4px; font-family:'Orbitron', monospace; font-size:14px; font-weight:700; color:var(--gold); }

  /* BUY BUTTON on card */
  .buy-btn {
    width:100%; margin-top:10px; padding:8px;
    background:linear-gradient(135deg, rgba(255,107,0,0.3), rgba(255,30,0,0.2));
    border:1px solid rgba(255,107,0,0.5);
    border-radius:6px; color:var(--gold);
    font-family:'Orbitron', monospace; font-size:10px;
    font-weight:700; letter-spacing:1px;
    cursor:pointer; transition:all 0.2s;
  }
  .buy-btn:hover { background:linear-gradient(135deg, rgba(255,107,0,0.5), rgba(255,30,0,0.4)); transform:scale(1.02); }
  .buy-btn:active { transform:scale(0.98); }
  .buy-btn:disabled { opacity:0.4; cursor:not-allowed; }

  /* ESCORT */
  .escort-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(180px, 1fr)); gap:10px; }
  .escort-card {
    background: var(--panel); border:1px solid var(--border);
    border-radius:10px; padding:18px 14px; cursor:pointer;
    transition:all 0.3s; text-align:center; overflow:hidden;
  }
  .escort-card:hover { border-color:#4488ff; transform:translateY(-3px); box-shadow: 0 8px 30px rgba(68,136,255,0.2); }
  .escort-tier { font-family:'Orbitron', monospace; font-size:9px; letter-spacing:3px; color:rgba(100,160,255,0.6); margin-bottom:6px; }
  .escort-km { font-family:'Orbitron', monospace; font-size:32px; font-weight:900; background:linear-gradient(135deg, #4488ff, #00ddff); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }
  .escort-label { font-size:11px; color:rgba(255,255,255,0.3); margin-bottom:10px; }
  .escort-perks { font-size:11px; color:rgba(255,255,255,0.45); margin-bottom:14px; line-height:1.7; text-align:left; }
  .escort-price { font-family:'Orbitron', monospace; font-size:16px; font-weight:700; color:var(--gold); display:flex; align-items:center; justify-content:center; gap:4px; margin-bottom:10px; }
  .escort-buy { width:100%; padding:8px; background:linear-gradient(135deg, rgba(68,136,255,0.3), rgba(0,200,255,0.2)); border:1px solid rgba(68,136,255,0.5); border-radius:6px; color:#7df; font-family:'Orbitron', monospace; font-size:10px; font-weight:700; letter-spacing:1px; cursor:pointer; transition:all 0.2s; }
  .escort-buy:hover { background:linear-gradient(135deg, rgba(68,136,255,0.5), rgba(0,200,255,0.35)); }
  .escort-buy:disabled { opacity:0.4; cursor:not-allowed; }

  /* TOAST */
  .toast {
    position:fixed; bottom:30px; left:50%; transform:translateX(-50%) translateY(100px);
    background:linear-gradient(135deg, #1a3a1a, #0d2d0d);
    border:1px solid #4f4; border-radius:10px;
    padding:14px 24px; font-size:14px; font-weight:700;
    color:#4ffa7f; z-index:9999;
    transition:transform 0.4s cubic-bezier(0.34,1.56,0.64,1);
    white-space:nowrap; box-shadow:0 8px 30px rgba(0,255,80,0.3);
  }
  .toast.show { transform:translateX(-50%) translateY(0); }
  .toast.error { background:linear-gradient(135deg,#3a1a1a,#2d0d0d); border-color:#f44; color:#fa7f7f; box-shadow:0 8px 30px rgba(255,0,0,0.3); }

  /* LOADING OVERLAY */
  .loading-overlay {
    position:fixed; inset:0; background:rgba(0,0,0,0.7);
    display:flex; align-items:center; justify-content:center;
    z-index:8888; opacity:0; pointer-events:none; transition:opacity 0.3s;
  }
  .loading-overlay.show { opacity:1; pointer-events:all; }
  .spinner {
    width:50px; height:50px;
    border:3px solid rgba(255,107,0,0.2);
    border-top-color:var(--orange);
    border-radius:50%; animation:spin 0.8s linear infinite;
  }
  @keyframes spin { to{transform:rotate(360deg)} }

  footer { text-align:center; padding:24px 0 0; font-size:10px; color:rgba(255,255,255,0.1); letter-spacing:2px; }
</style>
</head>
<body>

<div class="wrapper">
  <header>
    <span class="skull-icon">üíÄ</span>
    <div class="brand">LEDNIK SHOP</div>
    <div class="sub">PUBG ¬∑ Black Market</div>
    <div class="divider"></div>
    <div class="live-badge"><span class="live-dot"></span>ONLINE ¬∑ –ë–´–°–¢–†–ê–Ø –î–û–°–¢–ê–í–ö–ê</div>
  </header>

  <div class="user-bar" id="user-bar" style="display:none">
    üë§ <span class="uname" id="uname-display">‚Äî</span>
    <span style="margin-left:auto;font-size:12px;">ID: <span id="uid-display">‚Äî</span></span>
  </div>

  <div class="tabs">
    <button class="tab-btn active" onclick="switchTab('loot',this)">
      <span class="tab-icon">üéí</span>–õ–£–¢
    </button>
    <button class="tab-btn" onclick="switchTab('escort',this)">
      <span class="tab-icon">üõ°Ô∏è</span>–≠–°–ö–û–†–¢
    </button>
  </div>

  <!-- LOOT -->
  <div class="section active" id="tab-loot">
    <div class="section-title">// –û–†–£–ñ–ò–ï –ò –≠–ö–ò–ü–ò–†–û–í–ö–ê</div>
    <div class="loot-grid">

      <div class="loot-card">
        <span class="loot-emoji">üî´</span>
        <div class="loot-name">–ü90</div>
        <div class="loot-desc">–°–∫–æ—Ä–æ—Å—Ç—Ä–µ–ª—å–Ω—ã–π –ü–ü. –†–∞—Å—á–∏—â–∞–π –∑–¥–∞–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.</div>
        <div class="loot-price">‚≠ê 10</div>
        <button class="buy-btn" onclick="buyItem('p90','–ü90',10)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="loot-card">
        <span class="loot-emoji">üéØ</span>
        <div class="loot-name">–ñ–°9</div>
        <div class="loot-desc">–¢–æ—á–Ω–æ—Å—Ç—å –¥–æ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞. –û–¥–∏–Ω –≤—ã—Å—Ç—Ä–µ–ª ‚Äî –æ–¥–∏–Ω —Ç—Ä—É–ø.</div>
        <div class="loot-price">‚≠ê 10</div>
        <button class="buy-btn" onclick="buyItem('zs9','–ñ–°9',10)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="loot-card">
        <span class="loot-emoji">‚ö°</span>
        <div class="loot-name">–ê–í–ú</div>
        <div class="loot-desc">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π. –£–±–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ —Å—Ç–µ–Ω—ã. –ù–µ—Ç —É–∫—Ä—ã—Ç–∏–π.</div>
        <div class="loot-price">‚≠ê 15</div>
        <button class="buy-btn" onclick="buyItem('avm','–ê–í–ú',15)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="loot-card">
        <span class="loot-emoji">üí•</span>
        <div class="loot-name">–ê–ú–†</div>
        <div class="loot-desc">–ü—Ä–æ–±–∏–≤–∞–µ—Ç –±—Ä–æ–Ω—é, –º–∞—à–∏–Ω—ã –∏ –≤—Å—ë –Ω–∞ —Å–≤–æ—ë–º –ø—É—Ç–∏.</div>
        <div class="loot-price">‚≠ê 15</div>
        <button class="buy-btn" onclick="buyItem('amr','–ê–ú–†',15)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="loot-card">
        <span class="loot-emoji">üóº</span>
        <div class="loot-name">–ú–ö –í–´–®–ö–ê</div>
        <div class="loot-desc">–í–∏–¥–∏—à—å –≤—Å—é –∫–∞—Ä—Ç—É. –î–æ–º–∏–Ω–∏—Ä—É–π —Å –≤—ã—Å–æ—Ç—ã.</div>
        <div class="loot-price">‚≠ê 15</div>
        <button class="buy-btn" onclick="buyItem('mk','–ú–ö –í—ã—à–∫–∞',15)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="loot-card">
        <span class="loot-emoji">üèÜ</span>
        <div class="loot-name">–ó–û–õ–û–¢–´–ï –û–†–£–ñ–ò–Ø</div>
        <div class="loot-desc">–≠–∫—Å–∫–ª—é–∑–∏–≤. –û—Å–ª–µ–ø–∏ –≤—Ä–∞–≥–æ–≤ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤—ã—Å—Ç—Ä–µ–ª–∞.</div>
        <div class="loot-price">‚≠ê 30</div>
        <button class="buy-btn" onclick="buyItem('gold_gun','–ó–æ–ª–æ—Ç—ã–µ –æ—Ä—É–∂–∏—è',30)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="loot-card">
        <span class="loot-emoji">üë•</span>
        <div class="loot-name">–§–£–õ–õ6</div>
        <div class="loot-desc">–°–Ω–∞—Ä—è–¥–∏ –≤–µ—Å—å –æ—Ç—Ä—è–¥ (6 —á–µ–ª). –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å.</div>
        <div class="loot-price">‚≠ê 30</div>
        <button class="buy-btn" onclick="buyItem('full6','–§—É–ª–ª6',30)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="loot-card legendary">
        <span class="loot-emoji">üëë</span>
        <div class="loot-name">–§–£–õ–õ –ó–û–õ–û–¢–û</div>
        <div class="loot-desc">–¢–æ–ø –∫–æ–º–ø–ª–µ–∫—Ç. –ó–æ–ª–æ—Ç–æ —Å –Ω–æ–≥ –¥–æ –≥–æ–ª–æ–≤—ã.</div>
        <div class="loot-price">‚≠ê 50</div>
        <button class="buy-btn" onclick="buyItem('full_gold','–§—É–ª–ª –ó–æ–ª–æ—Ç–æ',50)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

    </div>
  </div>

  <!-- ESCORT -->
  <div class="section" id="tab-escort">
    <div class="section-title">// –ü–†–û–§–ò-–°–û–ü–†–û–í–û–ñ–î–ï–ù–ò–ï</div>
    <div class="escort-grid">

      <div class="escort-card">
        <div class="escort-tier">–ë–ê–ó–û–í–´–ô</div>
        <div class="escort-km">2–ú</div>
        <div class="escort-label">2 –º–∞—Ç—á–∞</div>
        <div class="escort-perks">‚úî –û—Ö—Ä–∞–Ω–∞ —Ñ–ª–∞–Ω–≥–∞<br>‚úî –°–Ω–∞–π–ø–µ—Ä<br>‚úî –ñ–∏–≤–∞—è —Å–≤—è–∑—å</div>
        <div class="escort-price">‚≠ê 50</div>
        <button class="escort-buy" onclick="buyItem('esc_2m','–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ 2–ú',50)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="escort-card">
        <div class="escort-tier">–°–¢–ê–ù–î–ê–†–¢</div>
        <div class="escort-km">4–ú</div>
        <div class="escort-label">4 –º–∞—Ç—á–∞</div>
        <div class="escort-perks">‚úî –ö–æ–º–∞–Ω–¥–∞ 2 –∏–≥—Ä–æ–∫–∞<br>‚úî –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ<br>‚úî –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–æ–Ω—ã</div>
        <div class="escort-price">‚≠ê 100</div>
        <button class="escort-buy" onclick="buyItem('esc_4m','–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ 4–ú',100)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="escort-card">
        <div class="escort-tier">–ü–†–û–î–í–ò–ù–£–¢–´–ô</div>
        <div class="escort-km">6–ú</div>
        <div class="escort-label">6 –º–∞—Ç—á–µ–π</div>
        <div class="escort-perks">‚úî –û—Ç—Ä—è–¥ 3 –∏–≥—Ä–æ–∫–∞<br>‚úî –ü–æ–ª–Ω–∞—è —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞<br>‚úî –†–∞–∑–≤–µ–¥–∫–∞</div>
        <div class="escort-price">‚≠ê 180</div>
        <button class="escort-buy" onclick="buyItem('esc_6m','–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ 6–ú',180)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="escort-card">
        <div class="escort-tier">–≠–õ–ò–¢–ù–´–ô</div>
        <div class="escort-km">8–ú</div>
        <div class="escort-label">8 –º–∞—Ç—á–µ–π</div>
        <div class="escort-perks">‚úî –¢–æ–ø-–∏–≥—Ä–æ–∫–∏<br>‚úî –¢–∞–∫—Ç–∏–∫–∞ –ø–æ–¥ —Ç–µ–±—è<br>‚úî –ì–∞—Ä–∞–Ω—Ç–∏—è</div>
        <div class="escort-price">‚≠ê 250</div>
        <button class="escort-buy" onclick="buyItem('esc_8m','–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ 8–ú',250)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

      <div class="escort-card">
        <div class="escort-tier">üíé VIP</div>
        <div class="escort-km">10–ú</div>
        <div class="escort-label">10 –º–∞—Ç—á–µ–π</div>
        <div class="escort-perks">‚úî –¢–æ–ø-50 –∏–≥—Ä–æ–∫–∏<br>‚úî –õ–∏—á–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä<br>‚úî –†–µ–ø–æ—Ä—Ç –∏–≥—Ä</div>
        <div class="escort-price">‚≠ê 300</div>
        <button class="escort-buy" onclick="buyItem('esc_10m','–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ 10–ú',300)">‚ö° –ö–£–ü–ò–¢–¨</button>
      </div>

    </div>
  </div>

  <footer>‚ö° LEDNIK SHOP ¬∑ PUBG BLACK MARKET ¬∑ 2025</footer>
</div>

<div class="toast" id="toast"></div>
<div class="loading-overlay" id="loading"><div class="spinner"></div></div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

// –ü–æ–∫–∞–∑–∞—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ —á–µ—Ä–µ–∑ Telegram
const user = tg.initDataUnsafe?.user;
if (user) {
  document.getElementById('user-bar').style.display = 'flex';
  document.getElementById('uname-display').textContent = user.first_name + (user.last_name ? ' ' + user.last_name : '');
  document.getElementById('uid-display').textContent = user.id;
}

function switchTab(tab, btn) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('tab-' + tab).classList.add('active');
  btn.classList.add('active');
}

function showToast(msg, isError = false) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className = 'toast' + (isError ? ' error' : '') + ' show';
  setTimeout(() => t.classList.remove('show'), 3000);
}

function setLoading(v) {
  document.getElementById('loading').classList.toggle('show', v);
}

async function buyItem(itemId, itemName, stars) {
  // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ –ù–ï —á–µ—Ä–µ–∑ Telegram ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
  if (!tg.initData) {
    showToast('–û—Ç–∫—Ä–æ–π –º–∞–≥–∞–∑–∏–Ω —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –≤ Telegram!', true);
    return;
  }

  setLoading(true);

  try {
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –±–æ—Ç—É –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–≤–æ–π—Å–∞
    const userId = user?.id;
    const res = await fetch('https://lednik-shop-bot-production.up.railway.app/create_invoice', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        user_id: userId,
        item_id: itemId,
        item_name: itemName,
        stars: stars,
        init_data: tg.initData
      })
    });

    const data = await res.json();
    setLoading(false);

    if (data.invoice_link) {
      // –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–π –∏–Ω–≤–æ–π—Å Telegram
      tg.openInvoice(data.invoice_link, (status) => {
        if (status === 'paid') {
          showToast('‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞! –î–æ—Å—Ç–∞–≤–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞.');
          tg.HapticFeedback.notificationOccurred('success');
        } else if (status === 'failed') {
          showToast('‚ùå –û–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ—à–ª–∞', true);
        } else if (status === 'cancelled') {
          showToast('–û–ø–ª–∞—Ç–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞', true);
        }
      });
    } else {
      showToast('–û—à–∏–±–∫–∞: ' + (data.error || '–ø–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞'), true);
    }
  } catch (e) {
    setLoading(false);
    showToast('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º', true);
  }
}
</script>
</body>
</html>
